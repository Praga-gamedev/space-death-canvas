 events {

 }

 http{

     server {
         listen 443 ssl http2 ssl backlog=2048 ipv6only=off;

         ssi on;
         add_header Strict-Transport-Security "max-age=31536000;";
         ssl_ciphers HIGH:!RC4:!aNULL:!eNULL:!MD5:!EXPORT:!EXP:!LOW:!SEED:!CAMELLIA:!IDEA:!PSK:!SRP:!SSLv2;
         ssl_prefer_server_ciphers on;
         ssl_protocols TLSv1 TLSv1.1 TLSv1.2;

         location / {
             proxy_pass https://localhost:5000/;
         }

         location /api/ {
             proxy_pass https://localhost:5001/api/;
         }

         ssl_certificate /var/www/ssl/certificate.crt;
         ssl_certificate_key /var/www/ssl/private.key;
      }

      server {
          listen 80;
          ssi on;
          return 301 https://03-praga-space-death-canvas.ya-praktikum.tech$request_uri;
      }

 }

